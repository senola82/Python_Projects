# -*- coding: utf-8 -*-
"""
Created on Sat May 20 02:47:59 2023

@author: senol.a82@hotmail.com
"""

from scipy.interpolate import interp1d

x = [1, 3, 4]
y = [5, 1, 0.5]

f = interp1d(x, y, kind='quadratic')


#katsayı değerleri sorulursa
def kuadratik_polinom_formul2(x0,x1,x2,y0,y1,y2,x,iste): 
    
    p=y0
    q=(y1-y0)/(x1-x0)
    r=(((y2-y1)/(x2-x1))-((y1-y0)/(x1-x0)))/(x2-x0)        
    if iste=="p":
        sonucc=p
    elif iste=="q":
        sonucc=q
    elif iste=="r":        
        sonucc=r    
    else:
        sonucc=p+(q*(x-x0))+(r*(x-x0)*(x-x1))
    return sonucc


def kuadratik_polinom_formul(x0,x1,x2,y0,y1,y2,x): 
    
    p=y0
    q=(y1-y0)/(x1-x0)
    r=(((y2-y1)/(x2-x1))-((y1-y0)/(x1-x0)))/(x2-x0)   
     
    px=p+(q*(x-x0))+(r*(x-x0)*(x-x1))
   
    return px


def kuadratik_polinom(x0,x1,x2,y0,y1,y2,x):
    
    a=y0+(((y1-y0)/(x1-x0))*(x-x0))
    b=((y2-y1)/(x2-x1))-((y1-y0)/(x1-x0))
    c=(x-x0)*((x-x1)/(x2-x0)) 
    
    sonuc= a+(b*c)
    
    return sonuc


x0=1
x1=3
x2=4
y0=5
y1=1
y2=0.5

x=2




print("""---------------------------------1. FORMÜLE GÖRE ÇÖZÜMÜ------------------------------

a= x0   -  b= x1   - c= x2 
f(a)=y0  - f(b)=y1  - f(c)=y2

------------------------------------------FORMÜL------------------------------------------------                               
-------------------------------------
|                                   |
| p(x) = p + q*(x-a)+r*(x-a)(x-b)   |
|                                   |
-------------------------------------""")


p=kuadratik_polinom_formul2(x0,x1,x2,y0,y1,y2,x,"p")
q=kuadratik_polinom_formul2(x0,x1,x2,y0,y1,y2,x,"q")
r=kuadratik_polinom_formul2(x0,x1,x2,y0,y1,y2,x,"r")
sonc=kuadratik_polinom_formul2(x0,x1,x2,y0,y1,y2,x,"")
       
print("\n-------------------------------FORMÜLDE YERİNE YAZMA---------------------------------------------------------------------------\n")


print("p(x) = p + q*(x - %.4f"% x0,") + r*(x - %.4f"% x0,")*(x - %.4f"% x1,")")

print("p(%.4f"% x0,") = %.4f"% y0,"= p + q*(%.4f"%x0,"- %.4f"% x0,") + r*(%.4f"%x0,"- %.4f"% x0,")*(%.4f"%x0,"- %.4f"% x1,")")

print("p(%.4f"% x0,") = %.4f"% y0,"= p + q*(",x0-x0,") + r*(",x0-x0,")*(",x0-x1,")")

print("p = %.4f"%p,"\n")

print("p(%.4f"% x1,") = %.4f"% y1,"= %.4f"% p," + q*(%.4f"%x1,"- %.4f"% x0,") + r*(%.4f"%x1,"- %.4f"% x0,")*(%.4f"%x1,"- %.4f"% x1,")")

print("p(%.4f"% x1,") = %.4f"% y1,"= %.4f"% p," + q*(",x1-x0,") + r*(",x1-x0,")*(",x1-x1,")")

print("q = (%.4f"%y1,"-%.4f"%y0,")/(%.4f"%(x1-x0),") = %.4f"%q,"\n")


print("p(%.4f"% x2,") = %.4f"% y2,"= %.4f"% p,"+ %.4f"%q,"*(%.4f"%x2,"- %.4f"% x0,") + r*(%.4f"%x2,"- %.4f"% x0,")*(%.4f"%x2,"- %.4f"% x1,")")

print("p(%.4f"% x2,") = %.4f"% y2,"= %.4f"% p,"+ %.4f"%q,"*(",x2-x0,") + r*(",x2-x0,")*(",x2-x1,")")

print("r = (%.4f"%y2,"-%.4f"%(p+(q*(x2-x0))),")/(%.4f"%((x2-x0)*(x2-x1)),") = %.4f"%r,"\n")


print("p(x) = %.4f"% p,"+ %.4f"%q,"*( x - %.4f"% x0,")+ %.4f"%r,"*(x - %.4f"% x0,")*(x - %.4f"% x1,")")

print("p(%.4f"% x,") = %.4f"% p,"+ %.4f"%q,"*(",x-x0,") + %.4f"%r,"*(",x-x0,")*(",x-x1,")")

print("p(%.4f"% x,") = (%.4f"%p,"+%.4f"%(q*(x-x0)),")+(%.4f"%(r*(x-x0)*(x-x1)),") = %.4f"%sonc,"\n\n")


print("""---------------------------------2. FORMÜLE GÖRE ÇÖZÜMÜ------------------------------

  a= x0   -  b= x1   - c= x2 
 f(a)=y0  - f(b)=y1  - f(c)=y2
 -----------------------------------------------------------------------------
                                     FORMÜL                               
-----------------------------------------------------------------------------
|              y1 - y0            (  y2 - y1     y1 - y0 )   (x-a)*(x-b)    |
| p(x) = y0 +  --------- * (x-a) +( --------- -  ------- ) * ----------     |
|               b - a             (   c - b       b - a  )    ( c -a )      |
-----------------------------------------------------------------------------
""")
             
print("\n-------------------------------FORMÜLDE YERİNE YAZMA---------------------------------------------------------------------------\n")


print("               (%.4f"% f(x1)," - %.4f" % f(x0),")                ( %.4f" % f(x2),"-%.4f" % f(x1),"     %.4f" % f(x1),"- %.4f " % f(x0),")   (x - %.2f"%x0,")*(x - %.2f"%x1,")")
print("p(x) = %.4f"% f(x0),"+ ------------------ *(x - %.2f" % x0,") + ( ---------------  -  ---------------  ) * ------------------------")                           #   =%.4f"% f(x0), "+ ----------- * (%.2f" %(x-x0),")= %.4f" % kuadratik_polinom(x0,x1,x))
print("                 (%.2f"% x1, "-"," %.2f)"% x0,"                  (   %.2f"% x2, "-","%.2f"% x1,"        %.2f"% x1, "-","%.2f"% x0,"   )       (%.2f"% x2, "-","%.2f"% x0,")")#                                                 %.4f"%float(x1-x0),"  %.4f"%float(x1-x0))
print("\n-------------------------------------------------------------------------------------------------------------------------\n")
           
print(" x = ",x," noktasındaki değeri ise," )     

print("p(x) = %.4f"% f(x0),"+(%.4f" %float((f(x1)-f(x0))/(x1-x0)),")*(%.2f" %x," - %.2f"%x0,")+%.2f" %float(((y2-y1)/(x2-x1)-(y1-y0)/(x1-x0))/(x2-x0)),"*(%.2f"%x,"- %.2f"%x0,")*(%.2f"%x,"- %.2f"%x1,")= %.4f"%(kuadratik_polinom(x0,x1,x2,y0,y1,y2,x)))



